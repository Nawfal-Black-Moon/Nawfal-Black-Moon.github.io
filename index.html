<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <title>欢迎来到理想国</title>
    <style>
        @import url("https://fontsapi.zeoseven.com/237/main/result.css");

        body {
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            overflow: hidden;
            padding: 5vh 0;
            background: black;
            position: relative;
        }

        /* ✅ 数字雨背景层 */
        #matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background: black;
        }

        /* 内容层级提升 */
        .title,
        .eye,
        .links {
            position: relative;
            z-index: 2;
        }

        /* 标题 */
        .title h1 {
            margin: 0;
            color: white;
            font-family: "XiangcuiDazijitiW15", sans-serif;
            font-size: 40px;
            text-align: center;
            text-shadow: 0 0 15px #0f0;
        }

        /* 眼睛容器 */
        .eye {
            position: relative;
            margin-top: 15vh;
            width: 400px;
            height: 200px;
        }

        /* 眼睛图片 */
        .eye img.eye-bg,
        .eye img.eyeball,
        .eye img.eye-close {
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }

        .eye img.eye-bg {
            z-index: 2;
            transform-origin: center 45%;
            transition: transform 0.05s linear;
        }

        .eye img.eyeball {
            z-index: 3;
            transition: transform 0.05s linear;
        }

        .eye img.eye-close {
            z-index: 1;
        }

        /* 底部按钮 */
        .links {
            display: flex;
            margin-top: 30vh;
            justify-content: center;
            gap: 100px;
        }

        .pill {
            width: 250px;
            height: 90px;
            padding: 20px 32px;
            font-size: 28px;
            font-family: "XiangcuiDazijitiW15", sans-serif;
            color: white;
            border: none;
            border-radius: 999px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: inset -2px -2px 6px rgba(255, 255, 255, 0.4),
                inset 2px 2px 6px rgba(0, 0, 0, 0.4),
                0 0 12px rgba(0, 0, 0, 0.6);
        }

        .pill:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.7),
                inset -2px -2px 6px rgba(255, 255, 255, 0.5),
                inset 2px 2px 6px rgba(0, 0, 0, 0.5);
        }

        .pill.red {
            background: linear-gradient(to right, rgb(255, 255, 255) 50%, #ff3333 50%);
            text-align: right;
            padding-right: 20px;
        }

        .pill.blue {
            background: linear-gradient(to left, rgb(255, 255, 255) 50%, #3399ff 50%);
            text-align: left;
            padding-left: 5px;
        }
    </style>
</head>

<body>
    <!-- ✅ 黑客帝国数字流背景 -->
    <canvas id="matrix-bg"></canvas>

    <div class="title">
        <h1>宅男程序员大战电子蝴蝶</h1>
    </div>

    <div class="eye">
        <img src="https://imgbed.299969.xyz/2025/09/iris.png" class="eye-bg" alt="眼眶" id="iris">
        <img src="https://imgbed.299969.xyz/2025/09/eyeball.png" class="eyeball" alt="眼球" id="eyeball">
        <img src="https://imgbed.299969.xyz/2025/09/eye_close.png" class="eye-close" alt="闭眼">
    </div>

    <div class="links">
        <button class="pill red" onclick="location.href='https://imgbed.299969.xyz/game/theRPB.html'">理想国</button>
        <button class="pill blue">尚未公开</button>
    </div>

    <script>
        // ===== 数字雨特效 =====
        const canvas = document.getElementById('matrix-bg');
        const ctx = canvas.getContext('2d');

        function resizeMatrix() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resizeMatrix();
        window.addEventListener('resize', resizeMatrix);

        const letters = '01';
        const fontSize = 16;
        let columns = Math.floor(canvas.width / fontSize);
        let drops = Array.from({ length: columns }, () => Math.random() * canvas.height / fontSize);

        function drawMatrix() {
            // 透明黑层，产生拖尾效果
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.fillStyle = '#0F0';
            ctx.font = fontSize + 'px monospace';

            for (let i = 0; i < drops.length; i++) {
                const text = letters.charAt(Math.floor(Math.random() * letters.length));
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);

                if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                    drops[i] = 0;
                }
                drops[i]++;
            }
        }

        setInterval(drawMatrix, 50);

        // ===== 眼睛交互 =====
        const eye = document.querySelector('.eye');
        const iris = document.getElementById('iris');
        const eyeball = document.getElementById('eyeball');
        const eyeClose = document.querySelector('.eye-close');

        let eyeRect = eye.getBoundingClientRect();
        let eyeCenter = {
            x: eyeRect.left + eyeRect.width / 2,
            y: eyeRect.top + eyeRect.height / 2
        };

        let blinkTimeout;
        let blinkTimer;

        function updateEye(e) {
            resetBlinkTimer();

            const dx = e.clientX - eyeCenter.x;
            const dy = e.clientY - eyeCenter.y;

            const maxXDist = 30;
            const maxYDist = 50;

            let angle = -30 * dy / (window.innerHeight / 2);
            iris.style.transform = `rotate(${angle}deg)`;

            let x = dx / 10;
            let y = dy / 10;

            const a = 40;
            const b = 60;

            const ellipseValue = (x * x) / (a * a) + (y * y) / (b * b);
            if (ellipseValue > 1) {
                const scale = 1 / Math.sqrt(ellipseValue);
                x *= scale;
                y *= scale;
            }

            eyeball.style.transform = `translate(${x}px, ${y}px)`;
        }

        function showBlink() {
            iris.style.display = "none";
            eyeball.style.display = "none";
            blinkTimer = setTimeout(hideBlink, 400);
        }

        function hideBlink() {
            iris.style.display = "block";
            eyeball.style.display = "block";
            blinkTimeout = setTimeout(showBlink, 3000);
        }

        function resetBlinkTimer() {
            clearTimeout(blinkTimeout);
            clearTimeout(blinkTimer);
            hideBlink();
        }

        document.addEventListener('mousemove', updateEye);
        document.addEventListener('touchmove', (e) => {
            if (e.touches[0]) updateEye(e.touches[0]);
        }, { passive: true });

        window.addEventListener('resize', () => {
            eyeRect = eye.getBoundingClientRect();
            eyeCenter.x = eyeRect.left + eyeRect.width / 2;
            eyeCenter.y = eyeRect.top + eyeRect.height / 2;
        });

        resetBlinkTimer();
    </script>
</body>

</html>